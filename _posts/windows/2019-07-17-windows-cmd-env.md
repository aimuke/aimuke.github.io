---
title: "如何在cmd命令行中查看、修改、删除与添加环境变量"
tags: [cmd, "environment variables", "命令行", "环境变量"]
---

# 作用域

所有的在cmd命令行下对环境变量的修改只对 `当前` 窗口有效，不是永久性的修改。也就是说当关闭此cmd命令行窗口后，将不再起作用。

永久性修改环境变量的方法有两种：
- 直接修改注册表（此种方法目前没试验过）
- 通过 `我的电脑-〉属性-〉高级`，来设置系统的环境变量（查看详细）。

# 环境变量的作用

它是操作系统用来指定运行环境的一些参数。比如临时文件夹位置和系统文件夹位置等。当你运行某些程序时，除了在当前文件夹中寻找外，还会到这些环境变量中去查找，比如 `Path` 就是一个变量，里面存储了一些常用的命令所存放的目录路径。

# 什么情况下进行设置？

当启动cmd命令行窗口调用某一命令的时候，经常会出现 `xxx不是内部或外部命令，也不是可运行的程序或批处理文件`，如果你的拼写没有错误，同时计算机中确实存在这个程序，那么出现这个提示就是你的 `path` 变量没有设置正确，因为你的 `path` 路径，也就是默认路径里没有你的程序，同时你有没有给出你程序的绝对路径（因为你只是输入了命令或程序的名称而已），这是操作系统不知道去哪儿找你的程序，就会提示这个问题。

# 如何修改？

1. 查看当前所有可用的环境变量：输入 `set` 即可查看。

2. 查看某个环境变量：输入 `set 变量名` 即可，比如想查看 `path` 变量的值，即输入 `set path`

3. 修改环境变量 ：输入 `set 变量名=变量内容` 即可，比如将 `path` 设置为`d:\nmake.exe` ，只要输入 `set path="d:\nmake.exe"`。注意，此修改环境变量是指用现在的内容去覆盖以前的内容，并不是追加。比如当我设置了上面的 `path` 路径之后，如果我再重新输入 `set path="c"` ，再次查看 `path` 路径的时候，其值为 `c:`，而不是 `d:\nmake.exe；c`。

4. 设置为空：如果想将某一变量设置为空，输入`set 变量名=` 即可。如 `set path=` 那么查看 `path` 的时候就为空。注意，上面已经说了，只在当前命令行窗口起作用。因此查看 `path` 的时候不要去右击 `我的电脑`-`属性`.......

5. 给变量追加内容（不同于3，那个是覆盖）：输入 `set 变量名=%变量名%;变量内容`。如，为 `path` 添加一个新的路径，输入 `set path=%path%;d:\nmake.exe` 即可将 `d:\nmake.exe` 添加到 `path` 中，再次执行 `set path=%path%;c:`，那么，使用 `set path` 语句来查看的时候，将会有：`d:\nmake.exe;c:` ，而不是像第3步中的只有 `c:`。

# 附录
下面贴上一些常用的环境变量及作用

```
%ALLUSERSPROFILE% 局部 返回所有“用户配置文件”的位置。

　　%APPDATA% 局部 返回默认情况下应用程序存储数据的位置。

　　%CD% 局部 返回当前目录字符串。

　　%CMDCMDLINE% 局部 返回用来启动当前的 Cmd.exe 的准确命令行。

　　%CMDEXTVERSION% 系统 返回当前的“命令处理程序扩展”的版本号。

　　%COMPUTERNAME% 系统 返回计算机的名称。

　　%COMSPEC% 系统 返回命令行解释器可执行程序的准确路径。

　　%DATE% 系统 返回当前日期。使用与 date /t 命令相同的格式。由 Cmd.exe 生成。有关 date 命令的详细信息，请参阅 Date。

　　%ERRORLEVEL% 系统 返回最近使用过的命令的错误代码。通常用非零值表示错误。

　　%HOMEDRIVE% 系统 返回连接到用户主目录的本地工作站驱动器号。基于主目录值的设置。用户主目录是在“本地用户和组”中指定的。

　　%HOMEPATH% 系统 返回用户主目录的完整路径。基于主目录值的设置。用户主目录是在“本地用户和组”中指定的。

　　%HOMESHARE% 系统 返回用户的共享主目录的网络路径。基于主目录值的设置。用户主目录是在“本地用户和组”中指定的。

　　%LOGONSEVER% 局部 返回验证当前登录会话的域控制器的名称。

　　%NUMBER_OF_PROCESSORS% 系统 指定安装在计算机上的处理器的数目。

　　%OS% 系统 返回操作系统的名称。Windows 2000 将操作系统显示为 Windows_NT。

　　%PATH% 系统 指定可执行文件的搜索路径。

　　%PATHEXT% 系统 返回操作系统认为可执行的文件扩展名的列表。

　　%PROCESSOR_ARCHITECTURE% 系统 返回处理器的芯片体系结构。值: x86，IA64。

　　%PROCESSOR_IDENTFIER% 系统 返回处理器说明。

　　%PROCESSOR_LEVEL% 系统 返回计算机上安装的处理器的型号。

　　%PROCESSOR_REVISION% 系统 返回处理器修订号的系统变量。

　　%PROMPT% 局部 返回当前解释程序的命令提示符设置。由 Cmd.exe 生成。

　　%RANDOM% 系统 返回 0 到 32767 之间的任意十进制数字。由 Cmd.exe 生成。

　　%SYSTEMDRIVE% 系统 返回包含 Windows XP 根目录（即系统根目录）的驱动器。

　　%SYSTEMROOT% 系统 返回 Windows XP 根目录的位置。

　　%TEMP% and %TMP% 系统和用户 返回对当前登录用户可用的应用程序所使用的默认临时目录。有些应用程序需要 TEMP，而其它应用程序则需要 TMP。

　　%TIME% 系统 返回当前时间。使用与 time /t 命令相同的格式。由 Cmd.exe 生成。有关 time 命令的详细信息，请参阅 Time。

　　%USERDOMAIN% 局部 返回包含用户帐户的域的名称。

　　%USERNAME% 局部 返回当前登录的用户的名称。

　　%UserProfile% 局部 返回当前用户的配置文件的位置。

　　%WINDIR% 系统 返回操作系统目录的位置。
```

> 作者：Alexander_QQ 
>
> 来源：CSDN 
>
> 原文：https://blog.csdn.net/wzsbll/article/details/6690895 
>
> 版权声明：本文为博主原创文章，转载请附上博文链接！

# References

- [如何在cmd命令行中查看、修改、删除与添加环境变量](https://blog.csdn.net/wzsbll/article/details/6690895)

